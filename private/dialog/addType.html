            <div class="modal hide" id="dlgAddType">
                <div class="modal-header">
                    <a class="close" data-dismiss="modal">×</a>
                    <h3>添加类型</h3>
                </div>
                <div class="modal-body">
                    <div class="hide alert alert-error">
                        <strong>出错啦！</strong>
                        <ul class="error-list">
                        </ul>
                      </div>

                    <form class="form-horizontal">

                        <div class="control-group">
                            <label for="tbTypeName" class="control-label">类型名称</label>
                            <div class="controls">
                                <input type="text" id="tbTypeName" placeholder="输入关键字并等待搜索"/>
                                <input type="hidden" id="tbTypeId" />
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <a href="#" class="btn" data-dismiss="modal">关闭</a>
                    <button onclick="addType123();" class="btn btn-primary">确定</button>
                </div>
            </div>

            <script type="text/javascript">
                $("#dlgAddType").modal({
                      backdrop: false,
                      keyboard: false,
                      show: false
                  });
                  initConceptSearch($('#tbTypeName'), $('#tbTypeId'));

                  function addType123() {
                      //1. 数据验证
                      var alert = $("div#dlgAddType div.alert");
                      alert.hide();

                      ulError = $("div#dlgAddType ul.error-list").empty();
                      var hasError = false;
                      var type = $("#tbTypeId").val();

                      if (type === undefined || type == "") {
                          hasError = true;
                          ulError.append(newLi().append("还未选中类型"));
                      }
                      if (hasError) {
                          alert.show();
                          return;
                      }

                      //2. 完成类型添加
                      var subjectId = $('#dlgAddType').attr('subjectId');
                      var stype = $('#dlgAddType').attr('stype');
                      var appId = $('#dlgAddType').attr('appId');
                      var cm = new ConceptManager();
                      cm.addRdfType(subjectId, type, { appId: appId }).done(function (fs) {
                          $("div#dlgAddType input").val("");
                          AddTypeDialog.prototype.onTypeAdded();
                          $("div#dlgAddType").modal('toggle');
                      });
                  }
            </script>